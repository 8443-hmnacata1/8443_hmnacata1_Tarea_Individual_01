<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <title>DIRECCION DE ENVIO</title>
    <script src="Parte III/validar.js"></script>
</head>

<body>
    <form action="#" method="GET" name="FormDireccion" target="_blank">
        <fieldset>
            <legend>DIRECCION DE ENVIO</legend>
            Calle Principal <br />
            <input type="text" name="txtPrincipal" value="" />
            <br /><br /> Transversal
            <br />
            <input type="text" name="txtTransversal" value="" />

            <br /><br />
            <div id="propietario">
                <div id="propietario1">
                    <input type="checkbox" name="checkbox" value="PROPIETARIO" /> Entrega al propietario.<br />
                </div>
            </div>

            <script>
                var checkbox = document.querySelector('input[name=checkbox]')

                checkbox.addEventListener('change', function() {
                    if (this.checked) {
                        console.log('Checkbox is checked..')
                        checkbox = document.getElementById('propietario').value
                        val = 0

                        if (checkbox == '') {
                            val++
                        }

                        if (val == 0) {
                            document.getElementById('btn').disabled = false
                        } else {
                            document.getElementById('btn').disabled = true
                        }
                        //document.getElementById('propietario').addEventListener('click', habilitar)
                    } else {
                        console.log('Checkbox is not checked..')
                        checkbox = document.getElementById('propietario').value
                        val = 0

                        if (checkbox == '') {
                            val++
                        }

                        if (val == 0) {
                            document.getElementById('btn').disabled = true
                        } else {
                            document.getElementById('btn').disabled = false
                        }
                    }
                })

                function myFunction() {
                    var x = document.getElementById('div')
                    if (x.style.display === 'block') {
                        x.style.display = 'none'
                    } else {
                        x.style.display = 'block'
                    }
                }
            </script>

            <input onclick="myFunction()" id="tercero" type="checkbox" name="chbEntrega2" value="TERCERO" /> Entrega a un tercero.

            <br /><br /> Cantones:
            <select name="cmbCantones">
          <optgroup label="PICHINCHA">
            <option value="Quito">Quito</option>
            <option value="Rumiñahui">Rumiñahui</option>
            <option value="Mejia">Mejia</option>
          </optgroup>

          <optgroup label="GUAYAS">
            <option value="Guayaquil">Guayaquil</option>
            <option value="Santa Elena">Santa Elena</option>
            <option value="Salinas">Salinas</option>
          </optgroup>
        </select>

            <br /><br />
            <input id="btn" type="submit" disabled name="SubmitDireccion" value="ENVIAR DATOS" />
        </fieldset>
    </form>

    <br />
    <div id="div" style="display:none;">
        <form action="#" method="POST" name="FormConfidencial" target="_blank">
            <fieldset>
                <legend>INFORMACIÓN CONFIDENCIAL</legend>
                Código Postal:
                <input type="password" name="pswCodigoPostal" value="" />

                <br /><br /> Referencia de la Dirección:<br />
                <textarea name="Mensaje" rows="3" cols="30" id="Mensaje"></textarea
          ><br />
          <br />
          <input type="submit" name="SubmitConfidencial" value="Guardar" />
        </fieldset>
      </form>
      
    </div>
    <br><br>
    <a href="index.html"><input type="submit" name="SubmitConfidencial" value="REGRESAR" /></a>
  </body>
</html>